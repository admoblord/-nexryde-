{"dependencies":[{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":119},"end":{"line":6,"column":49,"index":168}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.saveUserSession = saveUserSession;\n  exports.getUserSession = getUserSession;\n  exports.isUserLoggedIn = isUserLoggedIn;\n  exports.getUserId = getUserId;\n  exports.getUserRole = getUserRole;\n  exports.clearUserSession = clearUserSession;\n  exports.updateUserData = updateUserData;\n  var _expoSecureStore = require(_dependencyMap[0], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  /**\n   * Secure Authentication Storage Service\n   * Handles persistent login by storing user data and tokens securely\n   */\n\n  // Storage Keys\n  const KEYS = {\n    USER_DATA: 'user_data',\n    AUTH_TOKEN: 'auth_token',\n    USER_ID: 'user_id',\n    USER_ROLE: 'user_role',\n    IS_LOGGED_IN: 'is_logged_in'\n  };\n\n  /**\n   * Save user login data securely\n   */\n  async function saveUserSession(userData) {\n    try {\n      // Store all user data\n      await SecureStore.setItemAsync(KEYS.USER_DATA, JSON.stringify(userData));\n      await SecureStore.setItemAsync(KEYS.USER_ID, userData.id || '');\n      await SecureStore.setItemAsync(KEYS.USER_ROLE, userData.role || '');\n      await SecureStore.setItemAsync(KEYS.IS_LOGGED_IN, 'true');\n\n      // Store auth token if available\n      if (userData.token) {\n        await SecureStore.setItemAsync(KEYS.AUTH_TOKEN, userData.token);\n      }\n      console.log('✅ User session saved successfully');\n      return true;\n    } catch (error) {\n      console.error('❌ Error saving user session:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Get stored user data\n   */\n  async function getUserSession() {\n    try {\n      const isLoggedIn = await SecureStore.getItemAsync(KEYS.IS_LOGGED_IN);\n      if (isLoggedIn !== 'true') {\n        return null;\n      }\n      const userDataString = await SecureStore.getItemAsync(KEYS.USER_DATA);\n      if (!userDataString) {\n        return null;\n      }\n      const userData = JSON.parse(userDataString);\n      const token = await SecureStore.getItemAsync(KEYS.AUTH_TOKEN);\n      console.log('✅ User session retrieved successfully');\n      return {\n        ...userData,\n        token\n      };\n    } catch (error) {\n      console.error('❌ Error retrieving user session:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Check if user is logged in\n   */\n  async function isUserLoggedIn() {\n    try {\n      const isLoggedIn = await SecureStore.getItemAsync(KEYS.IS_LOGGED_IN);\n      return isLoggedIn === 'true';\n    } catch (error) {\n      console.error('❌ Error checking login status:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Get stored user ID\n   */\n  async function getUserId() {\n    try {\n      return await SecureStore.getItemAsync(KEYS.USER_ID);\n    } catch (error) {\n      console.error('❌ Error getting user ID:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Get stored user role\n   */\n  async function getUserRole() {\n    try {\n      return await SecureStore.getItemAsync(KEYS.USER_ROLE);\n    } catch (error) {\n      console.error('❌ Error getting user role:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Clear all stored user data (logout)\n   */\n  async function clearUserSession() {\n    try {\n      await SecureStore.deleteItemAsync(KEYS.USER_DATA);\n      await SecureStore.deleteItemAsync(KEYS.AUTH_TOKEN);\n      await SecureStore.deleteItemAsync(KEYS.USER_ID);\n      await SecureStore.deleteItemAsync(KEYS.USER_ROLE);\n      await SecureStore.deleteItemAsync(KEYS.IS_LOGGED_IN);\n      console.log('✅ User session cleared successfully');\n      return true;\n    } catch (error) {\n      console.error('❌ Error clearing user session:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Update specific user data field\n   */\n  async function updateUserData(updates) {\n    try {\n      const currentData = await getUserSession();\n      if (!currentData) {\n        return false;\n      }\n      const updatedData = {\n        ...currentData,\n        ...updates\n      };\n      return await saveUserSession(updatedData);\n    } catch (error) {\n      console.error('❌ Error updating user data:', error);\n      return false;\n    }\n  }\n});","lineCount":168,"map":[[22,2,20,0,"exports"],[22,9,20,0],[22,10,20,0,"saveUserSession"],[22,25,20,0],[22,28,20,0,"saveUserSession"],[22,43,20,0],[23,2,44,0,"exports"],[23,9,44,0],[23,10,44,0,"getUserSession"],[23,24,44,0],[23,27,44,0,"getUserSession"],[23,41,44,0],[24,2,75,0,"exports"],[24,9,75,0],[24,10,75,0,"isUserLoggedIn"],[24,24,75,0],[24,27,75,0,"isUserLoggedIn"],[24,41,75,0],[25,2,88,0,"exports"],[25,9,88,0],[25,10,88,0,"getUserId"],[25,19,88,0],[25,22,88,0,"getUserId"],[25,31,88,0],[26,2,100,0,"exports"],[26,9,100,0],[26,10,100,0,"getUserRole"],[26,21,100,0],[26,24,100,0,"getUserRole"],[26,35,100,0],[27,2,112,0,"exports"],[27,9,112,0],[27,10,112,0,"clearUserSession"],[27,26,112,0],[27,29,112,0,"clearUserSession"],[27,45,112,0],[28,2,131,0,"exports"],[28,9,131,0],[28,10,131,0,"updateUserData"],[28,24,131,0],[28,27,131,0,"updateUserData"],[28,41,131,0],[29,2,6,0],[29,6,6,0,"_expoSecureStore"],[29,22,6,0],[29,25,6,0,"require"],[29,32,6,0],[29,33,6,0,"_dependencyMap"],[29,47,6,0],[30,2,6,0],[30,6,6,0,"SecureStore"],[30,17,6,0],[30,20,6,0,"_interopNamespace"],[30,37,6,0],[30,38,6,0,"_expoSecureStore"],[30,54,6,0],[31,2,1,0],[32,0,2,0],[33,0,3,0],[34,0,4,0],[36,2,8,0],[37,2,9,0],[37,8,9,6,"KEYS"],[37,12,9,10],[37,15,9,13],[38,4,10,2,"USER_DATA"],[38,13,10,11],[38,15,10,13],[38,26,10,24],[39,4,11,2,"AUTH_TOKEN"],[39,14,11,12],[39,16,11,14],[39,28,11,26],[40,4,12,2,"USER_ID"],[40,11,12,9],[40,13,12,11],[40,22,12,20],[41,4,13,2,"USER_ROLE"],[41,13,13,11],[41,15,13,13],[41,26,13,24],[42,4,14,2,"IS_LOGGED_IN"],[42,16,14,14],[42,18,14,16],[43,2,15,0],[43,3,15,1],[45,2,17,0],[46,0,18,0],[47,0,19,0],[48,2,20,7],[48,17,20,22,"saveUserSession"],[48,32,20,37,"saveUserSession"],[48,33,20,38,"userData"],[48,41,20,51],[48,43,20,53],[49,4,21,2],[49,8,21,6],[50,6,22,4],[51,6,23,4],[51,12,23,10,"SecureStore"],[51,23,23,21],[51,24,23,22,"setItemAsync"],[51,36,23,34],[51,37,23,35,"KEYS"],[51,41,23,39],[51,42,23,40,"USER_DATA"],[51,51,23,49],[51,53,23,51,"JSON"],[51,57,23,55],[51,58,23,56,"stringify"],[51,67,23,65],[51,68,23,66,"userData"],[51,76,23,74],[51,77,23,75],[51,78,23,76],[52,6,24,4],[52,12,24,10,"SecureStore"],[52,23,24,21],[52,24,24,22,"setItemAsync"],[52,36,24,34],[52,37,24,35,"KEYS"],[52,41,24,39],[52,42,24,40,"USER_ID"],[52,49,24,47],[52,51,24,49,"userData"],[52,59,24,57],[52,60,24,58,"id"],[52,62,24,60],[52,66,24,64],[52,68,24,66],[52,69,24,67],[53,6,25,4],[53,12,25,10,"SecureStore"],[53,23,25,21],[53,24,25,22,"setItemAsync"],[53,36,25,34],[53,37,25,35,"KEYS"],[53,41,25,39],[53,42,25,40,"USER_ROLE"],[53,51,25,49],[53,53,25,51,"userData"],[53,61,25,59],[53,62,25,60,"role"],[53,66,25,64],[53,70,25,68],[53,72,25,70],[53,73,25,71],[54,6,26,4],[54,12,26,10,"SecureStore"],[54,23,26,21],[54,24,26,22,"setItemAsync"],[54,36,26,34],[54,37,26,35,"KEYS"],[54,41,26,39],[54,42,26,40,"IS_LOGGED_IN"],[54,54,26,52],[54,56,26,54],[54,62,26,60],[54,63,26,61],[56,6,28,4],[57,6,29,4],[57,10,29,8,"userData"],[57,18,29,16],[57,19,29,17,"token"],[57,24,29,22],[57,26,29,24],[58,8,30,6],[58,14,30,12,"SecureStore"],[58,25,30,23],[58,26,30,24,"setItemAsync"],[58,38,30,36],[58,39,30,37,"KEYS"],[58,43,30,41],[58,44,30,42,"AUTH_TOKEN"],[58,54,30,52],[58,56,30,54,"userData"],[58,64,30,62],[58,65,30,63,"token"],[58,70,30,68],[58,71,30,69],[59,6,31,4],[60,6,33,4,"console"],[60,13,33,11],[60,14,33,12,"log"],[60,17,33,15],[60,18,33,16],[60,53,33,51],[60,54,33,52],[61,6,34,4],[61,13,34,11],[61,17,34,15],[62,4,35,2],[62,5,35,3],[62,6,35,4],[62,13,35,11,"error"],[62,18,35,16],[62,20,35,18],[63,6,36,4,"console"],[63,13,36,11],[63,14,36,12,"error"],[63,19,36,17],[63,20,36,18],[63,50,36,48],[63,52,36,50,"error"],[63,57,36,55],[63,58,36,56],[64,6,37,4],[64,13,37,11],[64,18,37,16],[65,4,38,2],[66,2,39,0],[68,2,41,0],[69,0,42,0],[70,0,43,0],[71,2,44,7],[71,17,44,22,"getUserSession"],[71,31,44,36,"getUserSession"],[71,32,44,36],[71,34,44,39],[72,4,45,2],[72,8,45,6],[73,6,46,4],[73,12,46,10,"isLoggedIn"],[73,22,46,20],[73,25,46,23],[73,31,46,29,"SecureStore"],[73,42,46,40],[73,43,46,41,"getItemAsync"],[73,55,46,53],[73,56,46,54,"KEYS"],[73,60,46,58],[73,61,46,59,"IS_LOGGED_IN"],[73,73,46,71],[73,74,46,72],[74,6,48,4],[74,10,48,8,"isLoggedIn"],[74,20,48,18],[74,25,48,23],[74,31,48,29],[74,33,48,31],[75,8,49,6],[75,15,49,13],[75,19,49,17],[76,6,50,4],[77,6,52,4],[77,12,52,10,"userDataString"],[77,26,52,24],[77,29,52,27],[77,35,52,33,"SecureStore"],[77,46,52,44],[77,47,52,45,"getItemAsync"],[77,59,52,57],[77,60,52,58,"KEYS"],[77,64,52,62],[77,65,52,63,"USER_DATA"],[77,74,52,72],[77,75,52,73],[78,6,54,4],[78,10,54,8],[78,11,54,9,"userDataString"],[78,25,54,23],[78,27,54,25],[79,8,55,6],[79,15,55,13],[79,19,55,17],[80,6,56,4],[81,6,58,4],[81,12,58,10,"userData"],[81,20,58,18],[81,23,58,21,"JSON"],[81,27,58,25],[81,28,58,26,"parse"],[81,33,58,31],[81,34,58,32,"userDataString"],[81,48,58,46],[81,49,58,47],[82,6,59,4],[82,12,59,10,"token"],[82,17,59,15],[82,20,59,18],[82,26,59,24,"SecureStore"],[82,37,59,35],[82,38,59,36,"getItemAsync"],[82,50,59,48],[82,51,59,49,"KEYS"],[82,55,59,53],[82,56,59,54,"AUTH_TOKEN"],[82,66,59,64],[82,67,59,65],[83,6,61,4,"console"],[83,13,61,11],[83,14,61,12,"log"],[83,17,61,15],[83,18,61,16],[83,57,61,55],[83,58,61,56],[84,6,62,4],[84,13,62,11],[85,8,63,6],[85,11,63,9,"userData"],[85,19,63,17],[86,8,64,6,"token"],[87,6,65,4],[87,7,65,5],[88,4,66,2],[88,5,66,3],[88,6,66,4],[88,13,66,11,"error"],[88,18,66,16],[88,20,66,18],[89,6,67,4,"console"],[89,13,67,11],[89,14,67,12,"error"],[89,19,67,17],[89,20,67,18],[89,54,67,52],[89,56,67,54,"error"],[89,61,67,59],[89,62,67,60],[90,6,68,4],[90,13,68,11],[90,17,68,15],[91,4,69,2],[92,2,70,0],[94,2,72,0],[95,0,73,0],[96,0,74,0],[97,2,75,7],[97,17,75,22,"isUserLoggedIn"],[97,31,75,36,"isUserLoggedIn"],[97,32,75,36],[97,34,75,57],[98,4,76,2],[98,8,76,6],[99,6,77,4],[99,12,77,10,"isLoggedIn"],[99,22,77,20],[99,25,77,23],[99,31,77,29,"SecureStore"],[99,42,77,40],[99,43,77,41,"getItemAsync"],[99,55,77,53],[99,56,77,54,"KEYS"],[99,60,77,58],[99,61,77,59,"IS_LOGGED_IN"],[99,73,77,71],[99,74,77,72],[100,6,78,4],[100,13,78,11,"isLoggedIn"],[100,23,78,21],[100,28,78,26],[100,34,78,32],[101,4,79,2],[101,5,79,3],[101,6,79,4],[101,13,79,11,"error"],[101,18,79,16],[101,20,79,18],[102,6,80,4,"console"],[102,13,80,11],[102,14,80,12,"error"],[102,19,80,17],[102,20,80,18],[102,52,80,50],[102,54,80,52,"error"],[102,59,80,57],[102,60,80,58],[103,6,81,4],[103,13,81,11],[103,18,81,16],[104,4,82,2],[105,2,83,0],[107,2,85,0],[108,0,86,0],[109,0,87,0],[110,2,88,7],[110,17,88,22,"getUserId"],[110,26,88,31,"getUserId"],[110,27,88,31],[110,29,88,58],[111,4,89,2],[111,8,89,6],[112,6,90,4],[112,13,90,11],[112,19,90,17,"SecureStore"],[112,30,90,28],[112,31,90,29,"getItemAsync"],[112,43,90,41],[112,44,90,42,"KEYS"],[112,48,90,46],[112,49,90,47,"USER_ID"],[112,56,90,54],[112,57,90,55],[113,4,91,2],[113,5,91,3],[113,6,91,4],[113,13,91,11,"error"],[113,18,91,16],[113,20,91,18],[114,6,92,4,"console"],[114,13,92,11],[114,14,92,12,"error"],[114,19,92,17],[114,20,92,18],[114,46,92,44],[114,48,92,46,"error"],[114,53,92,51],[114,54,92,52],[115,6,93,4],[115,13,93,11],[115,17,93,15],[116,4,94,2],[117,2,95,0],[119,2,97,0],[120,0,98,0],[121,0,99,0],[122,2,100,7],[122,17,100,22,"getUserRole"],[122,28,100,33,"getUserRole"],[122,29,100,33],[122,31,100,60],[123,4,101,2],[123,8,101,6],[124,6,102,4],[124,13,102,11],[124,19,102,17,"SecureStore"],[124,30,102,28],[124,31,102,29,"getItemAsync"],[124,43,102,41],[124,44,102,42,"KEYS"],[124,48,102,46],[124,49,102,47,"USER_ROLE"],[124,58,102,56],[124,59,102,57],[125,4,103,2],[125,5,103,3],[125,6,103,4],[125,13,103,11,"error"],[125,18,103,16],[125,20,103,18],[126,6,104,4,"console"],[126,13,104,11],[126,14,104,12,"error"],[126,19,104,17],[126,20,104,18],[126,48,104,46],[126,50,104,48,"error"],[126,55,104,53],[126,56,104,54],[127,6,105,4],[127,13,105,11],[127,17,105,15],[128,4,106,2],[129,2,107,0],[131,2,109,0],[132,0,110,0],[133,0,111,0],[134,2,112,7],[134,17,112,22,"clearUserSession"],[134,33,112,38,"clearUserSession"],[134,34,112,38],[134,36,112,41],[135,4,113,2],[135,8,113,6],[136,6,114,4],[136,12,114,10,"SecureStore"],[136,23,114,21],[136,24,114,22,"deleteItemAsync"],[136,39,114,37],[136,40,114,38,"KEYS"],[136,44,114,42],[136,45,114,43,"USER_DATA"],[136,54,114,52],[136,55,114,53],[137,6,115,4],[137,12,115,10,"SecureStore"],[137,23,115,21],[137,24,115,22,"deleteItemAsync"],[137,39,115,37],[137,40,115,38,"KEYS"],[137,44,115,42],[137,45,115,43,"AUTH_TOKEN"],[137,55,115,53],[137,56,115,54],[138,6,116,4],[138,12,116,10,"SecureStore"],[138,23,116,21],[138,24,116,22,"deleteItemAsync"],[138,39,116,37],[138,40,116,38,"KEYS"],[138,44,116,42],[138,45,116,43,"USER_ID"],[138,52,116,50],[138,53,116,51],[139,6,117,4],[139,12,117,10,"SecureStore"],[139,23,117,21],[139,24,117,22,"deleteItemAsync"],[139,39,117,37],[139,40,117,38,"KEYS"],[139,44,117,42],[139,45,117,43,"USER_ROLE"],[139,54,117,52],[139,55,117,53],[140,6,118,4],[140,12,118,10,"SecureStore"],[140,23,118,21],[140,24,118,22,"deleteItemAsync"],[140,39,118,37],[140,40,118,38,"KEYS"],[140,44,118,42],[140,45,118,43,"IS_LOGGED_IN"],[140,57,118,55],[140,58,118,56],[141,6,120,4,"console"],[141,13,120,11],[141,14,120,12,"log"],[141,17,120,15],[141,18,120,16],[141,55,120,53],[141,56,120,54],[142,6,121,4],[142,13,121,11],[142,17,121,15],[143,4,122,2],[143,5,122,3],[143,6,122,4],[143,13,122,11,"error"],[143,18,122,16],[143,20,122,18],[144,6,123,4,"console"],[144,13,123,11],[144,14,123,12,"error"],[144,19,123,17],[144,20,123,18],[144,52,123,50],[144,54,123,52,"error"],[144,59,123,57],[144,60,123,58],[145,6,124,4],[145,13,124,11],[145,18,124,16],[146,4,125,2],[147,2,126,0],[149,2,128,0],[150,0,129,0],[151,0,130,0],[152,2,131,7],[152,17,131,22,"updateUserData"],[152,31,131,36,"updateUserData"],[152,32,131,37,"updates"],[152,39,131,49],[152,41,131,51],[153,4,132,2],[153,8,132,6],[154,6,133,4],[154,12,133,10,"currentData"],[154,23,133,21],[154,26,133,24],[154,32,133,30,"getUserSession"],[154,46,133,44],[154,47,133,45],[154,48,133,46],[155,6,135,4],[155,10,135,8],[155,11,135,9,"currentData"],[155,22,135,20],[155,24,135,22],[156,8,136,6],[156,15,136,13],[156,20,136,18],[157,6,137,4],[158,6,139,4],[158,12,139,10,"updatedData"],[158,23,139,21],[158,26,139,24],[159,8,140,6],[159,11,140,9,"currentData"],[159,22,140,20],[160,8,141,6],[160,11,141,9,"updates"],[161,6,142,4],[161,7,142,5],[162,6,144,4],[162,13,144,11],[162,19,144,17,"saveUserSession"],[162,34,144,32],[162,35,144,33,"updatedData"],[162,46,144,44],[162,47,144,45],[163,4,145,2],[163,5,145,3],[163,6,145,4],[163,13,145,11,"error"],[163,18,145,16],[163,20,145,18],[164,6,146,4,"console"],[164,13,146,11],[164,14,146,12,"error"],[164,19,146,17],[164,20,146,18],[164,49,146,47],[164,51,146,49,"error"],[164,56,146,54],[164,57,146,55],[165,6,147,4],[165,13,147,11],[165,18,147,16],[166,4,148,2],[167,2,149,0],[168,0,149,1],[168,3]],"functionMap":{"names":["<global>","saveUserSession","getUserSession","isUserLoggedIn","getUserId","getUserRole","clearUserSession","updateUserData"],"mappings":"AAA;OCmB;CDmB;OEK;CF0B;OGK;CHQ;OIK;CJO;OKK;CLO;OMK;CNc;OOK;CPkB"},"hasCjsExports":false},"type":"js/module"}]}